
<div class="container">
    <p class="animated zoomIn name">{{company.businessName}}</p>  <a [routerLink]="['/about', company.id]" role="button" style="background-color: darkorange;color: black; border-radius: 4px;width: 80px;">¿Quiénes somos?</a>
    <br>
    <input  class="animated zoomIn form-control" [(ngModel)]="name" type="text" placeholder="Buscar..." aria-label="Buscar" #myInput (input)="Search()" style="width: 30%;float: right;margin-top:-3%;">
    <br>
    <mat-spinner class="spinner" diameter="50" strokeWidth="3" *ngIf="loading===true"></mat-spinner>
    <button class="btn btn-outline-dark" *ngFor="let category1 of loadCategories()" (click)='SearchCategory(category1)' [disabled]="igual(category1)">{{category1}}</button>
    <button class="btn btn-outline-info"  (click)='cleanFilter()'>Borrar filtros</button>

    <div *ngIf="products?.length == 0  && (( name === undefined && category === undefined) || ( name === '' && category === ''))" class="alert alert-info" style="width: 70%;">
        Lo sentimos, no hay productos todavía de esta empresa
     </div>
     <div *ngIf="products?.length == 0 && (name !== '' || category !== '') && (name !== undefined || category !== undefined)" class="alert alert-info" style="width: 70%;">
        Lo sentimos, no hay productos que cumplan esos requisitos
        
     </div>
    <div class="row" *ngIf="products?.length > 0">
       
        <div class="col-sm" *ngFor="let product of products">
            <div class="animated zoomIn card" *ngIf="loading===false">
                
                <img *ngIf="!product?.photo" src="https://i1.wp.com/www.lagraderia.com/wp-content/uploads/2018/12/no-imagen.jpg?fit=300%2C300" alt="NoImage" class="card-img"> 
                <img *ngIf="product?.photo" src="{{product.photo}}" alt="PhotoProduct" class="card-img" ><h5 class="offert" *ngIf="product?.offert">-{{product.offert}}%</h5>
                <div class="card-body">
                    <a class="title" href="/detailsProduct/{{product.id}}">{{product.name.toUpperCase()}}</a>
                    <h4 class="price" *ngIf="!product?.offert">{{product.price}}€</h4>
                    <br>
                    <span class="price" *ngIf="product?.offert">Antes: {{product.price}}€</span>
                    <h4 class="offert" *ngIf="product?.offert">Ahora:{{rebaja(product).toFixed(2)}}€</h4>
                    <h4 class="offert" *ngIf="product?.status === 'SINSTOCK'">SIN STOCK</h4>
                </div>
                
            </div>
        </div>
    </div>
    <br>
    <app-paginator-products-list *ngIf="paginador"  [paginador] ="paginador"></app-paginator-products-list>
</div>
